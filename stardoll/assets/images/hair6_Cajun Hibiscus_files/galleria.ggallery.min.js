/*global jQuery, Galleria */

/**
 * Galleria LCweb Theme for Global Gallery - 2013-04-17
 * update: 2021-05-05
 * (c) Montanari Luca aka LCweb
 */
 
(function(b){Galleria.addTheme({name:"ggallery",author:"Montanari Luca",version:"1.5.7",defaults:{transition:lcgg.slider_fx,transitionSpeed:lcgg.slider_fx_time,imageCrop:lcgg.slider_img_crop,thumbCrop:!0,queue:!1,showCounter:!1,pauseOnInteraction:!0,_toggleInfo:lcgg.slider_toggle_info},init:function(g){Galleria.requires(1.5,"LCweb theme requires Galleria 1.5 or later");this.addElement("gg-play","gg-toggle-thumb","gg-lightbox","gg-info-link");this.append({info:["gg-play","gg-toggle-thumb","gg-lightbox",
"gg-info-link","info-text"]});var e=this,h=this.$("gg-info-link"),c=this.$("info-text"),f=this.$("gg-play"),k=this.$("gg-lightbox"),d=Galleria.TOUCH,l=d?"touchstart":"click";d||(this.addIdleState(this.get("image-nav-left"),{left:-50}),this.addIdleState(this.get("image-nav-right"),{right:-50}));h.bind(l,function(){c.stop().fadeToggle(150)});setTimeout(function(){k.bind("click tap",function(a){"undefined"!=typeof gg_active_index?gg_slider_lightbox(e._data,gg_active_index):gg_slider_lightbox(e._data,
0)})},50);this.bind("thumbnail",function(a){d?b(a.thumbTarget).css("opacity",this.getIndex()?1:.6):(b(a.thumbTarget).css("opacity",.6).parent().hover(function(){b(this).not(".active").children().stop().fadeTo(100,1)},function(){b(this).not(".active").children().stop().fadeTo(400,.6)}),a.index===this.getIndex()&&b(a.thumbTarget).css("opacity",1))});this.bind("loadstart",function(a){a.cached||this.$("loader").show().fadeTo(200,1);this.hasInfo()?this.$("info").removeClass("has_no_data"):this.$("info").addClass("has_no_data");
b(a.thumbTarget).css("opacity",1).parent().siblings().children().css("opacity",.6)});this.bind("loadfinish",function(a){this.$("loader").fadeOut(200);!this._playing&&f.hasClass("galleria-gg-pause")&&f.removeClass("galleria-gg-pause");"&nbsp;"==b.trim(this.$("info").find(".galleria-info-description").html())?this.$("info").find(".galleria-info-description").css("height",0).css("margin",0):this.$("info").find(".galleria-info-description").removeAttr("style");!1===g._toggleInfo&&c.is(":hidden")&&!c.hasClass("already_shown")&&
c.fadeIn(300).addClass("already_shown")})}})})(jQuery);